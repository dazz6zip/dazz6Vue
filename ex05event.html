<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>vueEx/ex05event.html</title>
    <style>
      button {
        background-color: greenyellow;
        border: none;
        border-radius: 5px;
        padding: 3px;
      }
    </style>
    <script src="https://unpkg.com/vue@3"></script>
  </head>
  <body>
    <h2>ğŸ¥ Vue ì´ë²¤íŠ¸ ì²˜ë¦¬</h2>
    html ì´ë²¤íŠ¸ëŠ” DOM ì—˜ë¦¬ë¨¼íŠ¸ì—ì„œ ì¼ì–´ë‚œë‹¤.
    <i style="opacity: 80; font-size: 80%"
      >(ì„œë²„ì—ì„œ ì½ê¸° ì¢…ë£Œ, ì…ë ¥ í¼ ì „ì†¡, ë²„íŠ¼ í´ë¦­ ë“±...) </i
    ><br />
    Vueì—ì„œ DOM ì´ë²¤íŠ¸ë¥¼ Listen í•˜ë ¤ë©´ í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ì— <b>v-on</b>ì„
    ì‚¬ìš©í•œë‹¤.<br />
    <b>í˜•ì‹</b>
    v-on:ì´ë²¤íŠ¸ì´ë¦„="ë©”ì†Œë“œëª…"<br />
    <b>ì˜ˆ</b>
    v-on:click="goHandler" ë˜ëŠ” @click="goHandler"<br /><br />
    <b>ì´ë²¤íŠ¸ ë²„ìŠ¤(event bus)</b> : ì´ë²¤íŠ¸ ê°„ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•<br />
    <b>í˜•ì‹</b> $emit(ì´ë²¤íŠ¸ìƒì„±), $on(ì´ë²¤íŠ¸í˜¸ì¶œ), $off(ì´ë²¤íŠ¸ì œê±°)<br />
    ë³´ë‚´ëŠ” ì»´í¬ë„ŒíŠ¸ì—ëŠ” <b>.$emit()</b>ì„, ë°›ëŠ” ì»´í¬ë„ŒíŠ¸ì—ëŠ” <b>.$on()</b>ì„
    êµ¬í˜„í•œë‹¤.
    <hr />
    <div id="app">
      ì£¼ì‚¬ìœ„ ìˆ˜ : {{number}}<br />
      <button v-on:click="rollDiceEvent">ğŸ²</button><br /><br />
      ì£¼ì‚¬ìœ„ ìˆ˜ + 10 : {{number2}}<br />
      <button @click="rollDiceEvent2(10)">ğŸ²ğŸ”Ÿ</button><br /><br />
      ìˆ«ì ì¦ê°€ : {{count}}<br />
      ìˆ«ì * 2 : {{count * 2}} <br />
      ìˆ«ì ì‚¼í•­ì—°ì‚° : {{count % 2 === 0 ? "ì§ìˆ˜" : "í™€ìˆ˜"}}<br />
      <!-- <button @click="count + 1">ğŸ²ğŸ†™</button> -->
      <button @click="count++">ğŸ²ğŸ†™</button>
    </div>
    <script>
      const app = Vue.createApp({
        data() {
          return {
            number: 0,
            number2: 0,
            count: 0,
          };
        },
        methods: {
          rollDiceEvent() {
            let num = Math.floor(Math.random() * 6 + 1);
            // 1ì—ì„œ 6 ì‚¬ì´ì˜ ì„ì˜ ì •ìˆ˜ ìƒì„±
            this.number = num;
          },
          rollDiceEvent2(arg) {
            let num = Math.floor(Math.random() * 6 + 1 + arg);
            this.number2 = num;
          },
        },
      }).mount("#app");
    </script>
    <hr />
    <div id="app2">
      <!-- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„° ì „ë‹¬ì‹œ props ì‚¬ìš© -->
      ë©”ì‹œì§€ :
      <child-component v-bind:propsData="message" />
    </div>
    <script>
      const app2 = Vue.createApp({
        data() {
          return {
            message: "ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ë©”ì‹œì§€ ì „ë‹¬",
          };
        },
      });
      app2.component("child-component", {
        props: ["propsdata"], // ë¶€ëª¨ë¡œë¶€í„° propsdataë¼ëŠ” í”„ë¡œí¼í‹°ë¥¼ ë°›ìŒ
        template: "<span>{{propsdata}}</span>",
        // ë™ì¼í•œ ë‚´ìš©ì´ ê°™ì€ ë¶€ë¶„ì—ì„œ ìì£¼ ë°˜ë³µë˜ëŠ” ê²½ìš° Componentë¥¼ ì´ìš©
        // ì‚¬ìš©ì ëŒ“ê¸€, ë¸”ë¡œê·¸ ê²Œì‹œê¸€, ì¸ë„¤ì¼ ë“± ì „ì²´ì ì¸ í° í‹€ì€ ì¤‘ë³µë˜ì§€ë§Œ ê·¸ ì•ˆì˜ ì„¸ë¶€ì ì¸ ë‚´ìš© ì¤‘ ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆëŠ” ê²½ìš°ì—ëŠ”
        // ì»´í¬ë„ŒíŠ¸ ì„ ì–¸ì‹œ propsë¥¼ ì‚¬ìš©í•´ ë‹¤ë¥¸ ë‚´ìš©ì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•¨

        // Component Tag ì´ë¦„, props ì´ë¦„ ì£¼ì˜
        // props-data (kebab case í‘œê¸°ë²•) ê°€ëŠ¥
        // props_data (snake case í‘œê¸°ë²•) ê°€ëŠ¥
        // propsData (camel case í‘œê¸°ë²•) ë¶ˆê°€ëŠ¥
      });
      app2.mount("#app2");
    </script>
    <hr />

    <div id="app3">
      <child-component @show-log="printText"> </child-component>
      {{msg}}
    </div>
    <script>
      const app3 = Vue.createApp({
        data() {
          return {
            msg: "",
          };
        },
        methods: {
          printText() {
            const logMessage = "ì´ë²¤íŠ¸ ìˆ˜ì‹  ì„±ê³µ";
            console.log(logMessage);
            this.msg = logMessage;
          },
        },
      });
      app3.component("child-component", {
        template: "<button @click='showLog'>ğŸ§¸</button>",
        methods: {
          showLog() {
            this.$emit("show-log"); // ë³´ë‚´ëŠ” ì»´í¬ë„ŒíŠ¸
          },
        },
      });
      app3.mount("#app3");
    </script>
  </body>
</html>
